<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ouroboros.Network.Socket</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Network.Socket.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ouroboros-network-framework-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.Socket</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">High level socket interface</a></li><li><a href="#g:2">Traces</a></li><li><a href="#g:3">Helper function for creating servers</a></li><li><a href="#g:4">Re-export of PeerStates</a></li><li><a href="#g:5">Re-export connection table functions</a></li><li><a href="#g:6">Auxiliary functions</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Module exports interface for running a node over a socket over TCP / IP.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ConnectionTable">ConnectionTable</a> m addr</li><li class="src short"><span class="keyword">data</span> <a href="#t:ConnectionTableRef">ConnectionTableRef</a><ul class="subs"><li>= <a href="#v:ConnectionTableCreate">ConnectionTableCreate</a></li><li>| <a href="#v:ConnectionTableExist">ConnectionTableExist</a></li><li>| <a href="#v:ConnectionTableDuplicate">ConnectionTableDuplicate</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ValencyCounter">ValencyCounter</a> m</li><li class="src short"><span class="keyword">data</span> <a href="#t:NetworkMutableState">NetworkMutableState</a> addr = <a href="#v:NetworkMutableState">NetworkMutableState</a> {<ul class="subs"><li><a href="#v:nmsConnectionTable">nmsConnectionTable</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr</li><li><a href="#v:nmsPeerStates">nmsPeerStates</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM-Strict.html#t:StrictTVar" title="Control.Monad.Class.MonadSTM.Strict">StrictTVar</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SomeResponderApplication">SomeResponderApplication</a> addr bytes m b <span class="keyword">where</span><ul class="subs"><li><a href="#v:SomeResponderApplication">SomeResponderApplication</a> &#8759; &#8704; appType addr m bytes a b. <a href="Ouroboros-Network-Mux.html#t:HasResponder" title="Ouroboros.Network.Mux">HasResponder</a> appType ~ <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a> &#8658; <a href="Ouroboros-Network-Mux.html#t:OuroborosApplication" title="Ouroboros.Network.Mux">OuroborosApplication</a> appType addr bytes m a b &#8594; <a href="Ouroboros-Network-Socket.html#t:SomeResponderApplication" title="Ouroboros.Network.Socket">SomeResponderApplication</a> addr bytes m b</li></ul></li><li class="src short"><a href="#v:newNetworkMutableState">newNetworkMutableState</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr)</li><li class="src short"><a href="#v:newNetworkMutableStateSTM">newNetworkMutableStateSTM</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> (<a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr)</li><li class="src short"><a href="#v:cleanNetworkMutableState">cleanNetworkMutableState</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:AcceptedConnectionsLimit">AcceptedConnectionsLimit</a> = <a href="#v:AcceptedConnectionsLimit">AcceptedConnectionsLimit</a> {<ul class="subs"><li><a href="#v:acceptedConnectionsHardLimit">acceptedConnectionsHardLimit</a> &#8759; !<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li><a href="#v:acceptedConnectionsSoftLimit">acceptedConnectionsSoftLimit</a> &#8759; !<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li><a href="#v:acceptedConnectionsDelay">acceptedConnectionsDelay</a> &#8759; !<a href="Ouroboros-Network-Subscription-PeerState.html#t:DiffTime" title="Ouroboros.Network.Subscription.PeerState">DiffTime</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ConnectionId">ConnectionId</a> addr = <a href="#v:ConnectionId">ConnectionId</a> {<ul class="subs"><li><a href="#v:localAddress">localAddress</a> &#8759; !addr</li><li><a href="#v:remoteAddress">remoteAddress</a> &#8759; !addr</li></ul>}</li><li class="src short"><a href="#v:withServerNode">withServerNode</a> &#8759; &#8704; vNumber extra t fd addr b. (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr) &#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr &#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkServerTracers" title="Ouroboros.Network.Socket">NetworkServerTracers</a> addr vNumber &#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; addr &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term &#8594; (&#8704; vData. extra vData &#8594; vData &#8594; vData &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Accept" title="Ouroboros.Network.Protocol.Handshake.Version">Accept</a>) &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Socket.html#t:SomeResponderApplication" title="Ouroboros.Network.Socket">SomeResponderApplication</a> addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> b) &#8594; <a href="Ouroboros-Network-ErrorPolicy.html#t:ErrorPolicies" title="Ouroboros.Network.ErrorPolicy">ErrorPolicies</a> &#8594; (addr &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Async" title="Cardano.Prelude.Base">Async</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Void.html#t:Void" title="Data.Void">Void</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> t) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> t</li><li class="src short"><a href="#v:withServerNode-39-">withServerNode'</a> &#8759; &#8704; vNumber extra t fd addr b. (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr) &#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr &#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkServerTracers" title="Ouroboros.Network.Socket">NetworkServerTracers</a> addr vNumber &#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; fd &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term &#8594; (&#8704; vData. extra vData &#8594; vData &#8594; vData &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Accept" title="Ouroboros.Network.Protocol.Handshake.Version">Accept</a>) &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Socket.html#t:SomeResponderApplication" title="Ouroboros.Network.Socket">SomeResponderApplication</a> addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> b) &#8594; <a href="Ouroboros-Network-ErrorPolicy.html#t:ErrorPolicies" title="Ouroboros.Network.ErrorPolicy">ErrorPolicies</a> &#8594; (addr &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Async" title="Cardano.Prelude.Base">Async</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Void.html#t:Void" title="Data.Void">Void</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> t) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> t</li><li class="src short"><a href="#v:connectToNode">connectToNode</a> &#8759; &#8704; appType vNumber extra fd addr a b. (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="Ouroboros-Network-Mux.html#t:HasInitiator" title="Ouroboros.Network.Mux">HasInitiator</a> appType ~ <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) &#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term &#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> addr vNumber &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Mux.html#t:OuroborosApplication" title="Ouroboros.Network.Mux">OuroborosApplication</a> appType addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a b) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> addr &#8594; addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:connectToNodeSocket">connectToNodeSocket</a> &#8759; &#8704; appType vNumber extra a b. (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="Ouroboros-Network-Mux.html#t:HasInitiator" title="Ouroboros.Network.Mux">HasInitiator</a> appType ~ <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/Win32-network-0.1.0.0/noopt/doc/html/Win32-network/System-IOManager.html#t:IOManager" title="System.IOManager">IOManager</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term &#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> SockAddr vNumber &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Mux.html#t:OuroborosApplication" title="Ouroboros.Network.Mux">OuroborosApplication</a> appType SockAddr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a b) &#8594; Socket &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:connectToNode-39-">connectToNode'</a> &#8759; &#8704; appType vNumber extra fd addr a b. (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="Ouroboros-Network-Mux.html#t:HasInitiator" title="Ouroboros.Network.Mux">HasInitiator</a> appType ~ <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) &#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term &#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> addr vNumber &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Mux.html#t:OuroborosApplication" title="Ouroboros.Network.Mux">OuroborosApplication</a> appType addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a b) &#8594; fd &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:NetworkConnectTracers">NetworkConnectTracers</a> addr vNumber = <a href="#v:NetworkConnectTracers">NetworkConnectTracers</a> {<ul class="subs"><li><a href="#v:nctMuxTracer">nctMuxTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:MuxTrace" title="Network.Mux.Trace">MuxTrace</a>)</li><li><a href="#v:nctHandshakeTracer">nctHandshakeTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) (<a href="Ouroboros-Network-Driver-Simple.html#t:TraceSendRecv" title="Ouroboros.Network.Driver.Simple">TraceSendRecv</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term)))</li></ul>}</li><li class="src short"><a href="#v:nullNetworkConnectTracers">nullNetworkConnectTracers</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> addr vNumber</li><li class="src short"><a href="#v:debuggingNetworkConnectTracers">debuggingNetworkConnectTracers</a> &#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> addr, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber) &#8658; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> addr vNumber</li><li class="src short"><span class="keyword">data</span> <a href="#t:NetworkServerTracers">NetworkServerTracers</a> addr vNumber = <a href="#v:NetworkServerTracers">NetworkServerTracers</a> {<ul class="subs"><li><a href="#v:nstMuxTracer">nstMuxTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:MuxTrace" title="Network.Mux.Trace">MuxTrace</a>)</li><li><a href="#v:nstHandshakeTracer">nstHandshakeTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) (<a href="Ouroboros-Network-Driver-Simple.html#t:TraceSendRecv" title="Ouroboros.Network.Driver.Simple">TraceSendRecv</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term)))</li><li><a href="#v:nstErrorPolicyTracer">nstErrorPolicyTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ouroboros-Network-ErrorPolicy.html#t:WithAddr" title="Ouroboros.Network.ErrorPolicy">WithAddr</a> addr <a href="Ouroboros-Network-ErrorPolicy.html#t:ErrorPolicyTrace" title="Ouroboros.Network.ErrorPolicy">ErrorPolicyTrace</a>)</li><li><a href="#v:nstAcceptPolicyTracer">nstAcceptPolicyTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a></li></ul>}</li><li class="src short"><a href="#v:nullNetworkServerTracers">nullNetworkServerTracers</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:NetworkServerTracers" title="Ouroboros.Network.Socket">NetworkServerTracers</a> addr vNumber</li><li class="src short"><a href="#v:debuggingNetworkServerTracers">debuggingNetworkServerTracers</a> &#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> addr, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber) &#8658; <a href="Ouroboros-Network-Socket.html#t:NetworkServerTracers" title="Ouroboros.Network.Socket">NetworkServerTracers</a> addr vNumber</li><li class="src short"><span class="keyword">data</span> <a href="#t:AcceptConnectionsPolicyTrace">AcceptConnectionsPolicyTrace</a><ul class="subs"><li>= <a href="#v:ServerTraceAcceptConnectionRateLimiting">ServerTraceAcceptConnectionRateLimiting</a> <a href="Ouroboros-Network-Subscription-PeerState.html#t:DiffTime" title="Ouroboros.Network.Subscription.PeerState">DiffTime</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li>| <a href="#v:ServerTraceAcceptConnectionHardLimit">ServerTraceAcceptConnectionHardLimit</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li></ul></li><li class="src short"><a href="#v:fromSnocket">fromSnocket</a> &#8759; &#8704; fd addr. <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr &#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr &#8594; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr &#8594; fd &#8594; <a href="Ouroboros-Network-Server-Socket.html#t:Socket" title="Ouroboros.Network.Server.Socket">Socket</a> addr fd</li><li class="src short"><a href="#v:beginConnection">beginConnection</a> &#8759; &#8704; vNumber extra addr st fd. (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber) &#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:MuxTrace" title="Network.Mux.Trace">MuxTrace</a>) &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) (<a href="Ouroboros-Network-Driver-Simple.html#t:TraceSendRecv" title="Ouroboros.Network.Driver.Simple">TraceSendRecv</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term))) &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term &#8594; (&#8704; vData. extra vData &#8594; vData &#8594; vData &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Accept" title="Ouroboros.Network.Protocol.Handshake.Version">Accept</a>) &#8594; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadTime.html#t:Time" title="Control.Monad.Class.MonadTime">Time</a> &#8594; addr &#8594; st &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> (AcceptConnection st vNumber extra addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a>)) &#8594; <a href="Ouroboros-Network-Server-Socket.html#t:BeginConnection" title="Ouroboros.Network.Server.Socket">BeginConnection</a> addr fd st ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerStates">PeerStates</a> m addr</li><li class="src short"><a href="#v:newConnectionTable">newConnectionTable</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; m (<a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr)</li><li class="src short"><a href="#v:refConnection">refConnection</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr) &#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr &#8594; addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; m <a href="Ouroboros-Network-Socket.html#t:ConnectionTableRef" title="Ouroboros.Network.Socket">ConnectionTableRef</a></li><li class="src short"><a href="#v:addConnection">addConnection</a> &#8759; &#8704; m addr. (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr) &#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr &#8594; addr &#8594; addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m) &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m ()</li><li class="src short"><a href="#v:removeConnection">removeConnection</a> &#8759; &#8704; m addr. (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr) &#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr &#8594; addr &#8594; addr &#8594; m ()</li><li class="src short"><a href="#v:newValencyCounter">newValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m (<a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m)</li><li class="src short"><a href="#v:addValencyCounter">addValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m ()</li><li class="src short"><a href="#v:remValencyCounter">remValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m ()</li><li class="src short"><a href="#v:waitValencyCounter">waitValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m ()</li><li class="src short"><a href="#v:readValencyCounter">readValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:sockAddrFamily">sockAddrFamily</a> &#8759; SockAddr &#8594; Family</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>High level socket interface</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConnectionTable" class="def">ConnectionTable</a> m addr <a href="src/Ouroboros.Network.Server.ConnectionTable.html#ConnectionTable" class="link">Source</a> <a href="#t:ConnectionTable" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConnectionTableRef" class="def">ConnectionTableRef</a> <a href="src/Ouroboros.Network.Server.ConnectionTable.html#ConnectionTableRef" class="link">Source</a> <a href="#t:ConnectionTableRef" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ConnectionTableCreate" class="def">ConnectionTableCreate</a></td><td class="doc"><p>No connection to peer exists, attempt to create one.</p></td></tr><tr><td class="src"><a id="v:ConnectionTableExist" class="def">ConnectionTableExist</a></td><td class="doc"><p>A connection to the peer existed, either from another subscriber or the peer opened one
 towards us.</p></td></tr><tr><td class="src"><a id="v:ConnectionTableDuplicate" class="def">ConnectionTableDuplicate</a></td><td class="doc"><p>This subscriber already has counted a connection to this peer. It must try another target.</p></td></tr></table></div><div class="subs instances"><details id="i:ConnectionTableRef" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConnectionTableRef:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-Socket.html#t:ConnectionTableRef" title="Ouroboros.Network.Socket">ConnectionTableRef</a></span> <a href="src/Ouroboros.Network.Server.ConnectionTable.html#line-100" class="link">Source</a> <a href="#t:ConnectionTableRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConnectionTableRef:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-ConnectionTable.html">Ouroboros.Network.Server.ConnectionTable</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionTableRef" title="Ouroboros.Network.Socket">ConnectionTableRef</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionTableRef" title="Ouroboros.Network.Socket">ConnectionTableRef</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-Socket.html#t:ConnectionTableRef" title="Ouroboros.Network.Socket">ConnectionTableRef</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ValencyCounter" class="def">ValencyCounter</a> m <a href="src/Ouroboros.Network.Server.ConnectionTable.html#ValencyCounter" class="link">Source</a> <a href="#t:ValencyCounter" class="selflink">#</a></p><div class="doc"><p>ValencyCounter represents how many active connections we have towards a given peer.
 It starts out with a positive value representing a desired number of connections for a specific
 subscription worker. It can become negative, for example if a peer opens multiple connections
 to us.
 The vcId is unique per ConnectionTable and ensures that we won't count the same connection twice.</p></div><div class="subs instances"><details id="i:ValencyCounter" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValencyCounter:Eq:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m)</span> <a href="src/Ouroboros.Network.Server.ConnectionTable.html#line-77" class="link">Source</a> <a href="#t:ValencyCounter" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValencyCounter:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-ConnectionTable.html">Ouroboros.Network.Server.ConnectionTable</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValencyCounter:Ord:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m)</span> <a href="src/Ouroboros.Network.Server.ConnectionTable.html#line-74" class="link">Source</a> <a href="#t:ValencyCounter" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValencyCounter:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-ConnectionTable.html">Ouroboros.Network.Server.ConnectionTable</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NetworkMutableState" class="def">NetworkMutableState</a> addr <a href="src/Ouroboros.Network.Socket.html#NetworkMutableState" class="link">Source</a> <a href="#t:NetworkMutableState" class="selflink">#</a></p><div class="doc"><p>Mutable state maintained by the network component.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NetworkMutableState" class="def">NetworkMutableState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nmsConnectionTable" class="def">nmsConnectionTable</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr</dfn><div class="doc"><p><code><a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a></code> which maintains information about current upstream and
 downstream connections.</p></div></li><li><dfn class="src"><a id="v:nmsPeerStates" class="def">nmsPeerStates</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM-Strict.html#t:StrictTVar" title="Control.Monad.Class.MonadSTM.Strict">StrictTVar</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr)</dfn><div class="doc"><p><code><a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a></code> which maintains state of each downstream / upstream peer
 that errored, misbehaved or was not interesting to us.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SomeResponderApplication" class="def">SomeResponderApplication</a> addr bytes m b <span class="keyword">where</span> <a href="src/Ouroboros.Network.Socket.html#SomeResponderApplication" class="link">Source</a> <a href="#t:SomeResponderApplication" class="selflink">#</a></p><div class="doc"><p>Wrapper for OuroborosResponderApplication and OuroborosInitiatorAndResponderApplication.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SomeResponderApplication" class="def">SomeResponderApplication</a> &#8759; &#8704; appType addr m bytes a b. <a href="Ouroboros-Network-Mux.html#t:HasResponder" title="Ouroboros.Network.Mux">HasResponder</a> appType ~ <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a> &#8658; <a href="Ouroboros-Network-Mux.html#t:OuroborosApplication" title="Ouroboros.Network.Mux">OuroborosApplication</a> appType addr bytes m a b &#8594; <a href="Ouroboros-Network-Socket.html#t:SomeResponderApplication" title="Ouroboros.Network.Socket">SomeResponderApplication</a> addr bytes m b</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:newNetworkMutableState" class="def">newNetworkMutableState</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr) <a href="src/Ouroboros.Network.Socket.html#newNetworkMutableState" class="link">Source</a> <a href="#v:newNetworkMutableState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newNetworkMutableStateSTM" class="def">newNetworkMutableStateSTM</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> (<a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr) <a href="src/Ouroboros.Network.Socket.html#newNetworkMutableStateSTM" class="link">Source</a> <a href="#v:newNetworkMutableStateSTM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cleanNetworkMutableState" class="def">cleanNetworkMutableState</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Ouroboros.Network.Socket.html#cleanNetworkMutableState" class="link">Source</a> <a href="#v:cleanNetworkMutableState" class="selflink">#</a></p><div class="doc"><p>Clean <code><a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a></code> within <code><a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a></code> every 200s</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AcceptedConnectionsLimit" class="def">AcceptedConnectionsLimit</a> <a href="src/Ouroboros.Network.Server.RateLimiting.html#AcceptedConnectionsLimit" class="link">Source</a> <a href="#t:AcceptedConnectionsLimit" class="selflink">#</a></p><div class="doc"><p>Policy which governs how to limit the number of accepted connections.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AcceptedConnectionsLimit" class="def">AcceptedConnectionsLimit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:acceptedConnectionsHardLimit" class="def">acceptedConnectionsHardLimit</a> &#8759; !<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></dfn><div class="doc"><p>Hard limit of accepted connections.</p></div></li><li><dfn class="src"><a id="v:acceptedConnectionsSoftLimit" class="def">acceptedConnectionsSoftLimit</a> &#8759; !<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></dfn><div class="doc"><p>Soft limit of accepted connections.  If we are above this threshold,
 we will start rate limiting.</p></div></li><li><dfn class="src"><a id="v:acceptedConnectionsDelay" class="def">acceptedConnectionsDelay</a> &#8759; !<a href="Ouroboros-Network-Subscription-PeerState.html#t:DiffTime" title="Ouroboros.Network.Subscription.PeerState">DiffTime</a></dfn><div class="doc"><p>Max delay for limiting accepted connections.  We use linear
 regression starting from 0 at the soft limit up to
 <code>acceptedConnectionDelay</code> at the hard limit.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:AcceptedConnectionsLimit" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Eq:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a></span> <a href="src/Ouroboros.Network.Server.RateLimiting.html#line-44" class="link">Source</a> <a href="#t:AcceptedConnectionsLimit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Ord:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a></span> <a href="src/Ouroboros.Network.Server.RateLimiting.html#line-44" class="link">Source</a> <a href="#t:AcceptedConnectionsLimit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Show:3"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a></span> <a href="src/Ouroboros.Network.Server.RateLimiting.html#line-44" class="link">Source</a> <a href="#t:AcceptedConnectionsLimit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConnectionId" class="def">ConnectionId</a> addr <a href="src/Ouroboros.Network.ConnectionId.html#ConnectionId" class="link">Source</a> <a href="#t:ConnectionId" class="selflink">#</a></p><div class="doc"><p>Connection is identified by local and remote address.</p><p>TODO: the type variable which this data type fills in is called <code>peerid</code>.  We
 should renamed to <code>connectionId</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ConnectionId" class="def">ConnectionId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:localAddress" class="def">localAddress</a> &#8759; !addr</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:remoteAddress" class="def">remoteAddress</a> &#8759; !addr</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:ConnectionId" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConnectionId:Eq:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> addr &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr)</span> <a href="src/Ouroboros.Network.ConnectionId.html#line-22" class="link">Source</a> <a href="#t:ConnectionId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConnectionId:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-ConnectionId.html">Ouroboros.Network.ConnectionId</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConnectionId:Ord:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr)</span> <a href="src/Ouroboros.Network.ConnectionId.html#line-22" class="link">Source</a> <a href="#t:ConnectionId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConnectionId:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-ConnectionId.html">Ouroboros.Network.ConnectionId</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConnectionId:Show:3"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> addr &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr)</span> <a href="src/Ouroboros.Network.ConnectionId.html#line-22" class="link">Source</a> <a href="#t:ConnectionId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConnectionId:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-ConnectionId.html">Ouroboros.Network.ConnectionId</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConnectionId:Generic:4"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr)</span> <a href="src/Ouroboros.Network.ConnectionId.html#line-22" class="link">Source</a> <a href="#t:ConnectionId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConnectionId:Generic:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-ConnectionId.html">Ouroboros.Network.ConnectionId</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) x &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConnectionId:NoUnexpectedThunks:5"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> addr &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:NoUnexpectedThunks" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">NoUnexpectedThunks</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr)</span> <a href="src/Ouroboros.Network.ConnectionId.html#line-23" class="link">Source</a> <a href="#t:ConnectionId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConnectionId:NoUnexpectedThunks:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-ConnectionId.html">Ouroboros.Network.ConnectionId</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noUnexpectedThunks">noUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:noUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:whnfNoUnexpectedThunks">whnfNoUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:whnfNoUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Ouroboros-Network-Util-ShowProxy.html#t:Proxy" title="Ouroboros.Network.Util.ShowProxy">Proxy</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConnectionId:Hashable:6"></span> Hashable a &#8658; Hashable (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> a)</span> <a href="src/Ouroboros.Network.ConnectionId.html#line-25" class="link">Source</a> <a href="#t:ConnectionId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConnectionId:Hashable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-ConnectionId.html">Ouroboros.Network.ConnectionId</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hashWithSalt">hashWithSalt</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></p><p class="src"><a href="#v:hash">hash</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ConnectionId:Rep:7"></span> <span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr)</span> <a href="src/Ouroboros.Network.ConnectionId.html#line-22" class="link">Source</a> <a href="#t:ConnectionId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ConnectionId:Rep:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-ConnectionId.html">Ouroboros.Network.ConnectionId</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) = <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;ConnectionId&quot; &quot;Ouroboros.Network.ConnectionId&quot; &quot;ouroboros-network-framework-0.1.0.0-inplace&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;ConnectionId&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a> &quot;localAddress&quot;) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> addr) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a> &quot;remoteAddress&quot;) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> addr)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withServerNode" class="def">withServerNode</a> <a href="src/Ouroboros.Network.Socket.html#withServerNode" class="link">Source</a> <a href="#v:withServerNode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkServerTracers" title="Ouroboros.Network.Socket">NetworkServerTracers</a> addr vNumber</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; (&#8704; vData. extra vData &#8594; vData &#8594; vData &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Accept" title="Ouroboros.Network.Protocol.Handshake.Version">Accept</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Socket.html#t:SomeResponderApplication" title="Ouroboros.Network.Socket">SomeResponderApplication</a> addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> b)</td><td class="doc"><p>The mux application that will be run on each incoming connection from
 a given address.  Note that if <code><code>MuxClientAndServerApplication</code></code> is
 returned, the connection will run a full duplex set of mini-protocols.</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-ErrorPolicy.html#t:ErrorPolicies" title="Ouroboros.Network.ErrorPolicy">ErrorPolicies</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; (addr &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Async" title="Cardano.Prelude.Base">Async</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Void.html#t:Void" title="Data.Void">Void</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> t)</td><td class="doc"><p>callback which takes the <code>Async</code> of the thread that is running the server.
 Note: the server thread will terminate when the callback returns or
 throws an exception.</p></td></tr><tr><td class="src">&#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a server application. It will listen on the given address for incoming
 connection, otherwise like withServerNode'.</p></div></div><div class="top"><p class="src"><a id="v:withServerNode-39-" class="def">withServerNode'</a> <a href="src/Ouroboros.Network.Socket.html#withServerNode%27" class="link">Source</a> <a href="#v:withServerNode-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkServerTracers" title="Ouroboros.Network.Socket">NetworkServerTracers</a> addr vNumber</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkMutableState" title="Ouroboros.Network.Socket">NetworkMutableState</a> addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Socket">AcceptedConnectionsLimit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; fd</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; (&#8704; vData. extra vData &#8594; vData &#8594; vData &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Accept" title="Ouroboros.Network.Protocol.Handshake.Version">Accept</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Socket.html#t:SomeResponderApplication" title="Ouroboros.Network.Socket">SomeResponderApplication</a> addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> b)</td><td class="doc"><p>The mux application that will be run on each incoming connection from
 a given address.  Note that if <code><code>MuxClientAndServerApplication</code></code> is
 returned, the connection will run a full duplex set of mini-protocols.</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-ErrorPolicy.html#t:ErrorPolicies" title="Ouroboros.Network.ErrorPolicy">ErrorPolicies</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; (addr &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Async" title="Cardano.Prelude.Base">Async</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Void.html#t:Void" title="Data.Void">Void</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> t)</td><td class="doc"><p>callback which takes the <code>Async</code> of the thread that is running the server.
 Note: the server thread will terminate when the callback returns or
 throws an exception.</p></td></tr><tr><td class="src">&#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a server application on the provided socket. The socket must be ready to accept connections.
 The server thread runs using <code>withAsync</code> function, which means
 that it will terminate when the callback terminates or throws an exception.</p><p>TODO: we should track connections in the state and refuse connections from
 peers we are already connected to.  This is also the right place to ban
 connection from peers which missbehaved.</p><p>The server will run handshake protocol on each incoming connection.  We
 assume that each versin negotiation message should fit into
 <code><code>maxTransmissionUnit</code></code> (~5k bytes).</p><p>Note: it will open a socket in the current thread and pass it to the spawned
 thread which runs the server.  This makes it useful for testing, where we
 need to guarantee that a socket is open before we try to connect to it.</p></div></div><div class="top"><p class="src"><a id="v:connectToNode" class="def">connectToNode</a> <a href="src/Ouroboros.Network.Socket.html#connectToNode" class="link">Source</a> <a href="#v:connectToNode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="Ouroboros-Network-Mux.html#t:HasInitiator" title="Ouroboros.Network.Mux">HasInitiator</a> appType ~ <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> addr vNumber</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Mux.html#t:OuroborosApplication" title="Ouroboros.Network.Mux">OuroborosApplication</a> appType addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a b)</td><td class="doc"><p>application to run over the connection</p></td></tr><tr><td class="src">&#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> addr</td><td class="doc"><p>local address; the created socket will bind to it</p></td></tr><tr><td class="src">&#8594; addr</td><td class="doc"><p>remote address</p></td></tr><tr><td class="src">&#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Connect to a remote node.  It is using bracket to enclose the underlying
 socket acquisition.  This implies that when the continuation exits the
 underlying bearer will get closed.</p><p>The connection will start with handshake protocol sending <code>Versions</code> to the
 remote peer.  It must fit into <code><code>maxTransmissionUnit</code></code> (~5k bytes).</p><p>Exceptions thrown by <code><code>MuxApplication</code></code> are rethrown by <code><code>connectTo</code></code>.</p></div></div><div class="top"><p class="src"><a id="v:connectToNodeSocket" class="def">connectToNodeSocket</a> <a href="src/Ouroboros.Network.Socket.html#connectToNodeSocket" class="link">Source</a> <a href="#v:connectToNodeSocket" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="Ouroboros-Network-Mux.html#t:HasInitiator" title="Ouroboros.Network.Mux">HasInitiator</a> appType ~ <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/Win32-network-0.1.0.0/noopt/doc/html/Win32-network/System-IOManager.html#t:IOManager" title="System.IOManager">IOManager</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> SockAddr vNumber</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Mux.html#t:OuroborosApplication" title="Ouroboros.Network.Mux">OuroborosApplication</a> appType SockAddr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a b)</td><td class="doc"><p>application to run over the connection</p></td></tr><tr><td class="src">&#8594; Socket</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:connectToNode-39-" class="def">connectToNode'</a> <a href="src/Ouroboros.Network.Socket.html#connectToNode%27" class="link">Source</a> <a href="#v:connectToNode-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber, <a href="Ouroboros-Network-Mux.html#t:HasInitiator" title="Ouroboros.Network.Mux">HasInitiator</a> appType ~ <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> addr vNumber</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Versions" title="Ouroboros.Network.Protocol.Handshake.Version">Versions</a> vNumber extra (<a href="Ouroboros-Network-Mux.html#t:OuroborosApplication" title="Ouroboros.Network.Mux">OuroborosApplication</a> appType addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a b)</td><td class="doc"><p>application to run over the connection</p></td></tr><tr><td class="src">&#8594; fd</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Connect to a remote node using an existing socket. It is up to to caller to
 ensure that the socket is closed in case of an exception.</p><p>The connection will start with handshake protocol sending <code>Versions</code> to the
 remote peer.  It must fit into <code><code>maxTransmissionUnit</code></code> (~5k bytes).</p><p>Exceptions thrown by <code><code>MuxApplication</code></code> are rethrown by <code><code>connectTo</code></code>.</p></div></div><a href="#g:2" id="g:2"><h1>Traces</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NetworkConnectTracers" class="def">NetworkConnectTracers</a> addr vNumber <a href="src/Ouroboros.Network.Socket.html#NetworkConnectTracers" class="link">Source</a> <a href="#t:NetworkConnectTracers" class="selflink">#</a></p><div class="doc"><p>Tracer used by <code><a href="Ouroboros-Network-Socket.html#v:connectToNode" title="Ouroboros.Network.Socket">connectToNode</a></code> (and derivatives, like
 <code><a href="Ouroboros-Network-NodeToNode.html#v:connectTo" title="Ouroboros.Network.NodeToNode">connectTo</a></code> or
 'Ouroboros.Network.NodeToClient.connectTo).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NetworkConnectTracers" class="def">NetworkConnectTracers</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nctMuxTracer" class="def">nctMuxTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:MuxTrace" title="Network.Mux.Trace">MuxTrace</a>)</dfn><div class="doc"><p>low level mux-network tracer, which logs mux sdu (send and received)
 and other low level multiplexing events.</p></div></li><li><dfn class="src"><a id="v:nctHandshakeTracer" class="def">nctHandshakeTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) (<a href="Ouroboros-Network-Driver-Simple.html#t:TraceSendRecv" title="Ouroboros.Network.Driver.Simple">TraceSendRecv</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term)))</dfn><div class="doc"><p>handshake protocol tracer; it is important for analysing version
 negotation mismatches.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:nullNetworkConnectTracers" class="def">nullNetworkConnectTracers</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> addr vNumber <a href="src/Ouroboros.Network.Socket.html#nullNetworkConnectTracers" class="link">Source</a> <a href="#v:nullNetworkConnectTracers" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:debuggingNetworkConnectTracers" class="def">debuggingNetworkConnectTracers</a> &#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> addr, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber) &#8658; <a href="Ouroboros-Network-Socket.html#t:NetworkConnectTracers" title="Ouroboros.Network.Socket">NetworkConnectTracers</a> addr vNumber <a href="src/Ouroboros.Network.Socket.html#debuggingNetworkConnectTracers" class="link">Source</a> <a href="#v:debuggingNetworkConnectTracers" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NetworkServerTracers" class="def">NetworkServerTracers</a> addr vNumber <a href="src/Ouroboros.Network.Socket.html#NetworkServerTracers" class="link">Source</a> <a href="#t:NetworkServerTracers" class="selflink">#</a></p><div class="doc"><p>Tracers required by a server which handles inbound connections.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NetworkServerTracers" class="def">NetworkServerTracers</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nstMuxTracer" class="def">nstMuxTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:MuxTrace" title="Network.Mux.Trace">MuxTrace</a>)</dfn><div class="doc"><p>low level mux-network tracer, which logs mux sdu (send and received)
 and other low level multiplexing events.</p></div></li><li><dfn class="src"><a id="v:nstHandshakeTracer" class="def">nstHandshakeTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) (<a href="Ouroboros-Network-Driver-Simple.html#t:TraceSendRecv" title="Ouroboros.Network.Driver.Simple">TraceSendRecv</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term)))</dfn><div class="doc"><p>handshake protocol tracer; it is important for analysing version
 negotation mismatches.</p></div></li><li><dfn class="src"><a id="v:nstErrorPolicyTracer" class="def">nstErrorPolicyTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Ouroboros-Network-ErrorPolicy.html#t:WithAddr" title="Ouroboros.Network.ErrorPolicy">WithAddr</a> addr <a href="Ouroboros-Network-ErrorPolicy.html#t:ErrorPolicyTrace" title="Ouroboros.Network.ErrorPolicy">ErrorPolicyTrace</a>)</dfn><div class="doc"><p>error policy tracer; must not be <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#v:nullTracer" title="Control.Tracer">nullTracer</a></code>, otherwise all the
 exceptions which are not matched by any error policy will be caught
 and not logged or rethrown.</p></div></li><li><dfn class="src"><a id="v:nstAcceptPolicyTracer" class="def">nstAcceptPolicyTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a></dfn><div class="doc"><p>tracing rate limiting of accepting connections.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:nullNetworkServerTracers" class="def">nullNetworkServerTracers</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:NetworkServerTracers" title="Ouroboros.Network.Socket">NetworkServerTracers</a> addr vNumber <a href="src/Ouroboros.Network.Socket.html#nullNetworkServerTracers" class="link">Source</a> <a href="#v:nullNetworkServerTracers" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:debuggingNetworkServerTracers" class="def">debuggingNetworkServerTracers</a> &#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> addr, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber) &#8658; <a href="Ouroboros-Network-Socket.html#t:NetworkServerTracers" title="Ouroboros.Network.Socket">NetworkServerTracers</a> addr vNumber <a href="src/Ouroboros.Network.Socket.html#debuggingNetworkServerTracers" class="link">Source</a> <a href="#v:debuggingNetworkServerTracers" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AcceptConnectionsPolicyTrace" class="def">AcceptConnectionsPolicyTrace</a> <a href="src/Ouroboros.Network.Server.RateLimiting.html#AcceptConnectionsPolicyTrace" class="link">Source</a> <a href="#t:AcceptConnectionsPolicyTrace" class="selflink">#</a></p><div class="doc"><p>Trace for the <code>AcceptConnectionsLimit</code> policy.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ServerTraceAcceptConnectionRateLimiting" class="def">ServerTraceAcceptConnectionRateLimiting</a> <a href="Ouroboros-Network-Subscription-PeerState.html#t:DiffTime" title="Ouroboros.Network.Subscription.PeerState">DiffTime</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ServerTraceAcceptConnectionHardLimit" class="def">ServerTraceAcceptConnectionHardLimit</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:AcceptConnectionsPolicyTrace" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptConnectionsPolicyTrace:Eq:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a></span> <a href="src/Ouroboros.Network.Server.RateLimiting.html#line-147" class="link">Source</a> <a href="#t:AcceptConnectionsPolicyTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptConnectionsPolicyTrace:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptConnectionsPolicyTrace:Ord:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a></span> <a href="src/Ouroboros.Network.Server.RateLimiting.html#line-147" class="link">Source</a> <a href="#t:AcceptConnectionsPolicyTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptConnectionsPolicyTrace:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptConnectionsPolicyTrace:Show:3"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a></span> <a href="src/Ouroboros.Network.Server.RateLimiting.html#line-149" class="link">Source</a> <a href="#t:AcceptConnectionsPolicyTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptConnectionsPolicyTrace:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-Socket.html#t:AcceptConnectionsPolicyTrace" title="Ouroboros.Network.Socket">AcceptConnectionsPolicyTrace</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h1>Helper function for creating servers</h1></a><div class="top"><p class="src"><a id="v:fromSnocket" class="def">fromSnocket</a> <a href="src/Ouroboros.Network.Socket.html#fromSnocket" class="link">Source</a> <a href="#v:fromSnocket" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; fd</td><td class="doc"><p>socket or handle</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Server-Socket.html#t:Socket" title="Ouroboros.Network.Server.Socket">Socket</a> addr fd</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Make a server-compatible socket from a network socket.</p></div></div><div class="top"><p class="src"><a id="v:beginConnection" class="def">beginConnection</a> <a href="src/Ouroboros.Network.Socket.html#beginConnection" class="link">Source</a> <a href="#v:beginConnection" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> vNumber, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> vNumber)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> fd addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:MuxTrace" title="Network.Mux.Trace">MuxTrace</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/network-mux-0.1.0.0/noopt/doc/html/network-mux/Network-Mux-Trace.html#t:WithMuxBearer" title="Network.Mux.Trace">WithMuxBearer</a> (<a href="Ouroboros-Network-Socket.html#t:ConnectionId" title="Ouroboros.Network.Socket">ConnectionId</a> addr) (<a href="Ouroboros-Network-Driver-Simple.html#t:TraceSendRecv" title="Ouroboros.Network.Driver.Simple">TraceSendRecv</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term)))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/typed-protocols-examples-0.1.0.0/noopt/doc/html/typed-protocols-examples/Network-TypedProtocol-Codec.html#t:Codec" title="Network.TypedProtocol.Codec">Codec</a> (<a href="Ouroboros-Network-Protocol-Handshake-Type.html#t:Handshake" title="Ouroboros.Network.Protocol.Handshake.Type">Handshake</a> vNumber Term) DeserialiseFailure <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Protocol-Handshake-Codec.html#t:VersionDataCodec" title="Ouroboros.Network.Protocol.Handshake.Codec">VersionDataCodec</a> extra Term</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; (&#8704; vData. extra vData &#8594; vData &#8594; vData &#8594; <a href="Ouroboros-Network-Protocol-Handshake-Version.html#t:Accept" title="Ouroboros.Network.Protocol.Handshake.Version">Accept</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadTime.html#t:Time" title="Control.Monad.Class.MonadTime">Time</a> &#8594; addr &#8594; st &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Conc.html#t:STM" title="GHC.Conc">STM</a> (AcceptConnection st vNumber extra addr <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a>))</td><td class="doc"><p>either accept or reject a connection.</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-Server-Socket.html#t:BeginConnection" title="Ouroboros.Network.Server.Socket">BeginConnection</a> addr fd st ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Accept or reject incoming connection based on the current state and address
 of the incoming connection.</p></div></div><a href="#g:4" id="g:4"><h1>Re-export of PeerStates</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerStates" class="def">PeerStates</a> m addr <a href="src/Ouroboros.Network.Subscription.PeerState.html#PeerStates" class="link">Source</a> <a href="#t:PeerStates" class="selflink">#</a></p><div class="doc"><p>Map from addresses to <code><a href="Ouroboros-Network-Subscription-PeerState.html#t:PeerState" title="Ouroboros.Network.Subscription.PeerState">PeerState</a></code>s; it will be be shared in a <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM-Strict.html#t:StrictTVar" title="Control.Monad.Class.MonadSTM.Strict">StrictTVar</a></code>.</p><p>Abstracting <code>t</code> is useful for tests, the <code>IO</code> version will use <code>Time IO</code>.</p></div><div class="subs instances"><details id="i:PeerStates" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerStates:Eq:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> addr &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr)</span> <a href="src/Ouroboros.Network.Subscription.PeerState.html#line-246" class="link">Source</a> <a href="#t:PeerStates" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerStates:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Subscription-PeerState.html">Ouroboros.Network.Subscription.PeerState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr &#8594; <a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerStates:Show:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> addr &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr)</span> <a href="src/Ouroboros.Network.Subscription.PeerState.html#line-240" class="link">Source</a> <a href="#t:PeerStates" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerStates:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Subscription-PeerState.html">Ouroboros.Network.Subscription.PeerState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-Socket.html#t:PeerStates" title="Ouroboros.Network.Socket">PeerStates</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> addr] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:5" id="g:5"><h1>Re-export connection table functions</h1></a><div class="top"><p class="src"><a id="v:newConnectionTable" class="def">newConnectionTable</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; m (<a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr) <a href="src/Ouroboros.Network.Server.ConnectionTable.html#newConnectionTable" class="link">Source</a> <a href="#v:newConnectionTable" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:refConnection" class="def">refConnection</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr) &#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr &#8594; addr &#8594; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; m <a href="Ouroboros-Network-Socket.html#t:ConnectionTableRef" title="Ouroboros.Network.Socket">ConnectionTableRef</a> <a href="src/Ouroboros.Network.Server.ConnectionTable.html#refConnection" class="link">Source</a> <a href="#v:refConnection" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addConnection" class="def">addConnection</a> <a href="src/Ouroboros.Network.Server.ConnectionTable.html#addConnection" class="link">Source</a> <a href="#v:addConnection" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m)</td><td class="doc"><p>Optional ValencyCounter, used by subscription worker and set to Nothing when
 called by a local server.</p></td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Insert a new connection into the ConnectionTable.</p></div></div><div class="top"><p class="src"><a id="v:removeConnection" class="def">removeConnection</a> &#8759; &#8704; m addr. (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> addr) &#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr &#8594; addr &#8594; addr &#8594; m () <a href="src/Ouroboros.Network.Server.ConnectionTable.html#removeConnection" class="link">Source</a> <a href="#v:removeConnection" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newValencyCounter" class="def">newValencyCounter</a> <a href="src/Ouroboros.Network.Server.ConnectionTable.html#newValencyCounter" class="link">Source</a> <a href="#v:newValencyCounter" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Network-Socket.html#t:ConnectionTable" title="Ouroboros.Network.Socket">ConnectionTable</a> m addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Desired valency, that is number of connections a subscription worker will attempt to
 maintain.</p></td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m (<a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create a new ValencyCounter</p></div></div><div class="top"><p class="src"><a id="v:addValencyCounter" class="def">addValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m () <a href="src/Ouroboros.Network.Server.ConnectionTable.html#addValencyCounter" class="link">Source</a> <a href="#v:addValencyCounter" class="selflink">#</a></p><div class="doc"><p>Add a connection.</p></div></div><div class="top"><p class="src"><a id="v:remValencyCounter" class="def">remValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m () <a href="src/Ouroboros.Network.Server.ConnectionTable.html#remValencyCounter" class="link">Source</a> <a href="#v:remValencyCounter" class="selflink">#</a></p><div class="doc"><p>Remove a connection.</p></div></div><div class="top"><p class="src"><a id="v:waitValencyCounter" class="def">waitValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m () <a href="src/Ouroboros.Network.Server.ConnectionTable.html#waitValencyCounter" class="link">Source</a> <a href="#v:waitValencyCounter" class="selflink">#</a></p><div class="doc"><p>Wait until ValencyCounter becomes positive, used for detecting when
 we can create new connections.</p></div></div><div class="top"><p class="src"><a id="v:readValencyCounter" class="def">readValencyCounter</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-Socket.html#t:ValencyCounter" title="Ouroboros.Network.Socket">ValencyCounter</a> m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Ouroboros.Network.Server.ConnectionTable.html#readValencyCounter" class="link">Source</a> <a href="#v:readValencyCounter" class="selflink">#</a></p><div class="doc"><p>Returns current ValencyCounter value, represent the number of additional connections that
 can be created. May be negative.</p></div></div><a href="#g:6" id="g:6"><h1>Auxiliary functions</h1></a><div class="top"><p class="src"><a id="v:sockAddrFamily" class="def">sockAddrFamily</a> &#8759; SockAddr &#8594; Family <a href="src/Ouroboros.Network.Socket.html#sockAddrFamily" class="link">Source</a> <a href="#v:sockAddrFamily" class="selflink">#</a></p></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Hashable:Hashable:1"></span> Hashable SockAddr</span> <a href="src/Ouroboros.Network.Socket.html#line-150" class="link">Source</a> <a href="#v:-36-fHashableSockAddr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:Hashable:Hashable:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hashWithSalt">hashWithSalt</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; SockAddr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></p><p class="src"><a href="#v:hash">hash</a> &#8759; SockAddr &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>