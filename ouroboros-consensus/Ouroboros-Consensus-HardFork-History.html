<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ouroboros.Consensus.HardFork.History</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Consensus.HardFork.History.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ouroboros-consensus-0.1.0.0: Consensus layer for the Ouroboros blockchain protocol</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.HardFork.History</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">History</a><ul><li><a href="#g:2">Params</a></li><li><a href="#g:3">Shape</a></li><li><a href="#g:4">Transitions</a></li></ul></li><li><a href="#g:5">Summary</a></li><li><a href="#g:6">Queries</a></li><li><a href="#g:7">Support for <code>EpochInfo</code></a></li><li><a href="#g:8">Caching</a></li><li><a href="#g:9">Exported only for the benefit of tests</a><ul><li><a href="#g:10">Bounds</a></li><li><a href="#g:11">Summary</a></li><li><a href="#g:12">Summary translations</a></li><li><a href="#g:13">Invariants</a></li><li><a href="#g:14">Auxiliary</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Intended for qualified import</p><pre>import qualified Ouroboros.Consensus.HardFork.History as HardFork</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:EraParams">EraParams</a> = <a href="#v:EraParams">EraParams</a> {<ul class="subs"><li><a href="#v:eraEpochSize">eraEpochSize</a> &#8759; !<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochSize" title="Cardano.Slotting.Slot">EpochSize</a></li><li><a href="#v:eraSlotLength">eraSlotLength</a> &#8759; !<a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock">SlotLength</a></li><li><a href="#v:eraSafeZone">eraSafeZone</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SafeZone">SafeZone</a> = <a href="#v:SafeZone">SafeZone</a> {<ul class="subs"><li><a href="#v:safeFromTip">safeFromTip</a> &#8759; !<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li><a href="#v:safeBeforeEpoch">safeBeforeEpoch</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SafeBeforeEpoch">SafeBeforeEpoch</a><ul class="subs"><li>= <a href="#v:NoLowerBound">NoLowerBound</a></li><li>| <a href="#v:LowerBound">LowerBound</a> !<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></li></ul></li><li class="src short"><a href="#v:defaultEraParams">defaultEraParams</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Abstract.html#t:SecurityParam" title="Ouroboros.Consensus.Protocol.Abstract">SecurityParam</a> &#8594; <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock">SlotLength</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Shape">Shape</a> xs = <a href="#v:Shape">Shape</a> (<a href="Ouroboros-Consensus-Util-Counting.html#t:Exactly" title="Ouroboros.Consensus.Util.Counting">Exactly</a> xs <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a>)</li><li class="src short"><a href="#v:singletonShape">singletonShape</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> '[x]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Transitions">Transitions</a> &#8759; [&#9733;] &#8594; &#9733; <span class="keyword">where</span><ul class="subs"><li><a href="#v:Transitions">Transitions</a> &#8759; <a href="Ouroboros-Consensus-Util-Counting.html#t:AtMost" title="Ouroboros.Consensus.Util.Counting">AtMost</a> xs <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> (x ': xs)</li></ul></li><li class="src short"><a href="#v:transitionsUnknown">transitionsUnknown</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> (x ': xs)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Summary">Summary</a> xs <span class="keyword">where</span><ul class="subs"><li><a href="#v:Summary">Summary</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="Ouroboros-Consensus-Util-Counting.html#t:AtMost" title="Ouroboros.Consensus.Util.Counting">AtMost</a> xs <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> (x ': xs)</li></ul></li><li class="src short"><a href="#v:summarize">summarize</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SystemStart" title="Ouroboros.Consensus.BlockchainTime.WallClock">SystemStart</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:WithOrigin" title="Cardano.Slotting.Slot">WithOrigin</a> <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs</li><li class="src short"><a href="#v:summaryBounds">summaryBounds</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; (<a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a>, <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a>)</li><li class="src short"><a href="#v:summaryInit">summaryInit</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs), <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a>)</li><li class="src short"><a href="#v:summaryWithExactly">summaryWithExactly</a> &#8759; <a href="Ouroboros-Consensus-Util-Counting.html#t:Exactly" title="Ouroboros.Consensus.Util.Counting">Exactly</a> (x ': xs) <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> (x ': xs)</li><li class="src short"><span class="keyword">data</span> <a href="#t:PastHorizonException">PastHorizonException</a> = <a href="#v:PastHorizon">PastHorizon</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) Condition</li><li class="src short"><span class="keyword">data</span> <a href="#t:Query">Query</a> (xs &#8759; [&#9733;]) a</li><li class="src short"><a href="#v:runQuery">runQuery</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> a</li><li class="src short"><a href="#v:runQueryThrow">runQueryThrow</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> m &#8658; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; m a</li><li class="src short"><a href="#v:runQueryPure">runQueryPure</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; a</li><li class="src short"><a href="#v:wallclockToSlot">wallclockToSlot</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>)</li><li class="src short"><a href="#v:slotToWallclock">slotToWallclock</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a>, <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock">SlotLength</a>)</li><li class="src short"><a href="#v:slotToEpoch">slotToEpoch</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a>, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>)</li><li class="src short"><a href="#v:epochToSlot">epochToSlot</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochSize" title="Cardano.Slotting.Slot">EpochSize</a>)</li><li class="src short"><a href="#v:summaryToEpochInfo">summaryToEpochInfo</a> &#8759; &#8704; m xs. (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m, <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m)) &#8658; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) &#8594; m (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-EpochInfo-API.html#t:EpochInfo" title="Cardano.Slotting.EpochInfo.API">EpochInfo</a> (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m))</li><li class="src short"><a href="#v:snapshotEpochInfo">snapshotEpochInfo</a> &#8759; &#8704; xs. <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-EpochInfo-API.html#t:EpochInfo" title="Cardano.Slotting.EpochInfo.API">EpochInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:RunWithCachedSummary">RunWithCachedSummary</a> xs m = <a href="#v:RunWithCachedSummary">RunWithCachedSummary</a> {<ul class="subs"><li><a href="#v:cachedRunQuery">cachedRunQuery</a> &#8759; &#8704; a. <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a</li></ul>}</li><li class="src short"><a href="#v:runWithCachedSummary">runWithCachedSummary</a> &#8759; &#8704; m xs. (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m, <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m)) &#8658; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) &#8594; m (<a href="Ouroboros-Consensus-HardFork-History.html#t:RunWithCachedSummary" title="Ouroboros.Consensus.HardFork.History">RunWithCachedSummary</a> xs m)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Bound">Bound</a></li><li class="src short"><a href="#v:boundEpoch">boundEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></li><li class="src short"><a href="#v:boundSlot">boundSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></li><li class="src short"><a href="#v:boundTime">boundTime</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a></li><li class="src short"><a href="#v:initBound">initBound</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SystemStart" title="Ouroboros.Consensus.BlockchainTime.WallClock">SystemStart</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></li><li class="src short"><a href="#v:mkUpperBound">mkUpperBound</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></li><li class="src short"><a href="#v:maxMaybeEpoch">maxMaybeEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:EraSummary">EraSummary</a> = <a href="#v:EraSummary">EraSummary</a> {<ul class="subs"><li><a href="#v:eraStart">eraStart</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></li><li><a href="#v:eraEnd">eraEnd</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></li><li><a href="#v:eraParams">eraParams</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="#t:ShiftTime">ShiftTime</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; a &#8594; a</li></ul></li><li class="src short"><a href="#v:invariantSummary">invariantSummary</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Except" title="Cardano.Prelude.Base">Except</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> ()</li><li class="src short"><a href="#v:invariantShape">invariantShape</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> xs &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Except" title="Cardano.Prelude.Base">Except</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> ()</li><li class="src short"><a href="#v:addEpochs">addEpochs</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></li><li class="src short"><a href="#v:addSlots">addSlots</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></li><li class="src short"><a href="#v:countEpochs">countEpochs</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li class="src short"><a href="#v:countSlots">countSlots</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>History</h1></a><a href="#g:2" id="g:2"><h2>Params</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EraParams" class="def">EraParams</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#EraParams" class="link">Source</a> <a href="#t:EraParams" class="selflink">#</a></p><div class="doc"><p>Parameters that can vary across hard forks</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EraParams" class="def">EraParams</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:eraEpochSize" class="def">eraEpochSize</a> &#8759; !<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochSize" title="Cardano.Slotting.Slot">EpochSize</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:eraSlotLength" class="def">eraSlotLength</a> &#8759; !<a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock">SlotLength</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:eraSafeZone" class="def">eraSafeZone</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:EraParams" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EraParams:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-188" class="link">Source</a> <a href="#t:EraParams" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EraParams:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EraParams:Generic:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-188" class="link">Source</a> <a href="#t:EraParams" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EraParams:Generic:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> x &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EraParams:NoUnexpectedThunks:3"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoUnexpectedThunks" title="Ouroboros.Consensus.Util.IOLike">NoUnexpectedThunks</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-189" class="link">Source</a> <a href="#t:EraParams" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EraParams:NoUnexpectedThunks:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noUnexpectedThunks">noUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:noUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:whnfNoUnexpectedThunks">whnfNoUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:whnfNoUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Ouroboros-Consensus-Util-RedundantConstraints.html#t:Proxy" title="Ouroboros.Consensus.Util.RedundantConstraints">Proxy</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EraParams:Rep:4"></span> <span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-188" class="link">Source</a> <a href="#t:EraParams" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EraParams:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> = <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;EraParams&quot; &quot;Ouroboros.Consensus.HardFork.History&quot; &quot;ouroboros-consensus-0.1.0.0-inplace&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;EraParams&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a> &quot;eraEpochSize&quot;) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochSize" title="Cardano.Slotting.Slot">EpochSize</a>) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a> &quot;eraSlotLength&quot;) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock">SlotLength</a>) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a> &quot;eraSafeZone&quot;) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a>))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SafeZone" class="def">SafeZone</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#SafeZone" class="link">Source</a> <a href="#t:SafeZone" class="selflink">#</a></p><div class="doc"><p>Zone in which it is guaranteed that no hard fork can take place</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SafeZone" class="def">SafeZone</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:safeFromTip" class="def">safeFromTip</a> &#8759; !<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></dfn><div class="doc"><p>Number of slots from the tip of the ledger</p><p>This should be (at least) the number of slots in which we are
 guaranteed to have <code>k</code> blocks.</p></div></li><li><dfn class="src"><a id="v:safeBeforeEpoch" class="def">safeBeforeEpoch</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a></dfn><div class="doc"><p>Optionally, an <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></code> before which no hard fork can take place</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:SafeZone" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeZone:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-212" class="link">Source</a> <a href="#t:SafeZone" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeZone:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeZone:Generic:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-212" class="link">Source</a> <a href="#t:SafeZone" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeZone:Generic:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> x &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeZone:NoUnexpectedThunks:3"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoUnexpectedThunks" title="Ouroboros.Consensus.Util.IOLike">NoUnexpectedThunks</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-213" class="link">Source</a> <a href="#t:SafeZone" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeZone:NoUnexpectedThunks:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noUnexpectedThunks">noUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:noUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:whnfNoUnexpectedThunks">whnfNoUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:whnfNoUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Ouroboros-Consensus-Util-RedundantConstraints.html#t:Proxy" title="Ouroboros.Consensus.Util.RedundantConstraints">Proxy</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeZone:Rep:4"></span> <span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-212" class="link">Source</a> <a href="#t:SafeZone" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeZone:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeZone" title="Ouroboros.Consensus.HardFork.History">SafeZone</a> = <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;SafeZone&quot; &quot;Ouroboros.Consensus.HardFork.History&quot; &quot;ouroboros-consensus-0.1.0.0-inplace&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;SafeZone&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a> &quot;safeFromTip&quot;) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a> &quot;safeBeforeEpoch&quot;) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SafeBeforeEpoch" class="def">SafeBeforeEpoch</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#SafeBeforeEpoch" class="link">Source</a> <a href="#t:SafeBeforeEpoch" class="selflink">#</a></p><div class="doc"><p>Lower bound on when a transition can take place</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoLowerBound" class="def">NoLowerBound</a></td><td class="doc"><p>No such lower bound is known</p></td></tr><tr><td class="src"><a id="v:LowerBound" class="def">LowerBound</a> !<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></td><td class="doc"><p><code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></code> before which a transition is guaranteed not to take place</p><p>Often such a value is available, since a new era is planned only after
 the current era has already been running for a while. For example, at
 the time of writing, we know the Byron to Shelley transition cannot
 happen before epoch 180, since we are currently already in epoch 179.</p><p>Moreover, for epoch transitions that have <em>already</em> taken place, the
 exact <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></code> of the transition can be used.</p><p>Providing this value is strictly an optimization; for example, it will
 reduce the frequency with which <code><a href="Ouroboros-Consensus-HardFork-History.html#v:summaryToEpochInfo" title="Ouroboros.Consensus.HardFork.History">summaryToEpochInfo</a></code> must update its
 summary of the hard fork history.</p></td></tr></table></div><div class="subs instances"><details id="i:SafeBeforeEpoch" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeBeforeEpoch:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-234" class="link">Source</a> <a href="#t:SafeBeforeEpoch" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeBeforeEpoch:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeBeforeEpoch:Generic:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-234" class="link">Source</a> <a href="#t:SafeBeforeEpoch" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeBeforeEpoch:Generic:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> x &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeBeforeEpoch:NoUnexpectedThunks:3"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoUnexpectedThunks" title="Ouroboros.Consensus.Util.IOLike">NoUnexpectedThunks</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-235" class="link">Source</a> <a href="#t:SafeBeforeEpoch" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeBeforeEpoch:NoUnexpectedThunks:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noUnexpectedThunks">noUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:noUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:whnfNoUnexpectedThunks">whnfNoUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:whnfNoUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Ouroboros-Consensus-Util-RedundantConstraints.html#t:Proxy" title="Ouroboros.Consensus.Util.RedundantConstraints">Proxy</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeBeforeEpoch:Rep:4"></span> <span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-234" class="link">Source</a> <a href="#t:SafeBeforeEpoch" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeBeforeEpoch:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> = <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;SafeBeforeEpoch&quot; &quot;Ouroboros.Consensus.HardFork.History&quot; &quot;ouroboros-consensus-0.1.0.0-inplace&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;NoLowerBound&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;LowerBound&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultEraParams" class="def">defaultEraParams</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Abstract.html#t:SecurityParam" title="Ouroboros.Consensus.Protocol.Abstract">SecurityParam</a> &#8594; <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock">SlotLength</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#defaultEraParams" class="link">Source</a> <a href="#v:defaultEraParams" class="selflink">#</a></p><div class="doc"><p>Default <code><a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></code></p><p>We set the epoch size to <code>10k</code> slots and the safe zone to <code>2k</code> slots.</p></div></div><a href="#g:3" id="g:3"><h2>Shape</h2></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Shape" class="def">Shape</a> xs <a href="src/Ouroboros.Consensus.HardFork.History.html#Shape" class="link">Source</a> <a href="#t:Shape" class="selflink">#</a></p><div class="doc"><p>The shape of the chain</p><p>The shape determines how many hard forks we expect as well as the parameters
 for each era. The type argument is a type-level list containing one entry
 per era, emphasizing that this information is statically known.</p><p>The indices are currently not yet used, but the idea is that they look
 something like <code>'[Byron, Shelley, Goguen]</code> and are then also used by the
 hard fork combinator (most likely this will be a list of block types, since
 most of consensus is indexed by block types).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Shape" class="def">Shape</a> (<a href="Ouroboros-Consensus-Util-Counting.html#t:Exactly" title="Ouroboros.Consensus.Util.Counting">Exactly</a> xs <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Shape" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Shape:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-248" class="link">Source</a> <a href="#t:Shape" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Shape:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> xs] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:singletonShape" class="def">singletonShape</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> '[x] <a href="src/Ouroboros.Consensus.HardFork.History.html#singletonShape" class="link">Source</a> <a href="#v:singletonShape" class="selflink">#</a></p><div class="doc"><p>There is only one era</p></div></div><a href="#g:4" id="g:4"><h2>Transitions</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Transitions" class="def">Transitions</a> &#8759; [&#9733;] &#8594; &#9733; <span class="keyword">where</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#Transitions" class="link">Source</a> <a href="#t:Transitions" class="selflink">#</a></p><div class="doc"><p>The exact point of each confirmed hard fork transition</p><p>Unlike the <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a></code> of the chain, which is statically known, the <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a></code>
 are derived from the state of the ledger (hard fork transition points only
 become known after a voting procedure).</p><p>Any transition listed here must be &quot;certain&quot;. How certainty is established is
 ledger dependent, but it should imply that this is no longer subject to
 rollback.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Transitions" class="def">Transitions</a> &#8759; <a href="Ouroboros-Consensus-Util-Counting.html#t:AtMost" title="Ouroboros.Consensus.Util.Counting">AtMost</a> xs <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> (x ': xs)</td><td class="doc"><p>If the indices are, say, <code>'[Byron, Shelley, Goguen]</code>, then we can have
 have at most two transitions: one to Shelley, and one to Goguen. There
 cannot be a transition <em>to</em> the initial ledger.</p></td></tr></table></div><div class="subs instances"><details id="i:Transitions" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Transitions:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-269" class="link">Source</a> <a href="#t:Transitions" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Transitions:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> xs] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:transitionsUnknown" class="def">transitionsUnknown</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> (x ': xs) <a href="src/Ouroboros.Consensus.HardFork.History.html#transitionsUnknown" class="link">Source</a> <a href="#v:transitionsUnknown" class="selflink">#</a></p><div class="doc"><p>No known transitions yet</p></div></div><a href="#g:5" id="g:5"><h1>Summary</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Summary" class="def">Summary</a> xs <span class="keyword">where</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#Summary" class="link">Source</a> <a href="#t:Summary" class="selflink">#</a></p><div class="doc"><p>Summary of the <em>confirmed</em> part of the ledger</p><p>The summary zips <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a></code> with <code>Forks</code>, and provides detailed information
 about the start and end of each era.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Summary" class="def">Summary</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="Ouroboros-Consensus-Util-Counting.html#t:AtMost" title="Ouroboros.Consensus.Util.Counting">AtMost</a> xs <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> (x ': xs)</td><td class="doc"><p>We have at most one summary for each era, and at least one</p></td></tr></table></div><div class="subs instances"><details id="i:Summary" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Summary:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-337" class="link">Source</a> <a href="#t:Summary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Summary:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Summary:NoUnexpectedThunks:2"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoUnexpectedThunks" title="Ouroboros.Consensus.Util.IOLike">NoUnexpectedThunks</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-338" class="link">Source</a> <a href="#t:Summary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Summary:NoUnexpectedThunks:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noUnexpectedThunks">noUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:noUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:whnfNoUnexpectedThunks">whnfNoUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:whnfNoUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Ouroboros-Consensus-Util-RedundantConstraints.html#t:Proxy" title="Ouroboros.Consensus.Util.RedundantConstraints">Proxy</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Summary:ShiftTime:3"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-387" class="link">Source</a> <a href="#t:Summary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Summary:ShiftTime:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Summary:MonadReader:4"></span> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:MonadReader" title="Cardano.Prelude.Base">MonadReader</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) (<a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-650" class="link">Source</a> <a href="#t:Summary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Summary:MonadReader:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> &#8759; (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> &#8759; (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; a) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:summarize" class="def">summarize</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#summarize" class="link">Source</a> <a href="#v:summarize" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SystemStart" title="Ouroboros.Consensus.BlockchainTime.WallClock">SystemStart</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:WithOrigin" title="Cardano.Slotting.Slot">WithOrigin</a> <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></td><td class="doc"><p>Slot at the tip of the ledger</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> xs</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Transitions" title="Ouroboros.Consensus.HardFork.History">Transitions</a> xs</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Construct hard fork <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a></code></p><p>NOTE (on epoch to slot translation). In order to translate <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code> to
 <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></code>, we simply &quot;line up&quot; all slots. For example, suppose we have
 an initial <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochSize" title="Cardano.Slotting.Slot">EpochSize</a></code> of 10, and then an <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochSize" title="Cardano.Slotting.Slot">EpochSize</a></code> of 20 from <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></code>
 3 onwards. We end up with something like</p><pre>Epoch | 0      | 1        | 2        | 3        | 4        | ..
Slot  | 0 .. 9 | 10 .. 19 | 20 .. 29 | 30 .. 49 | 50 .. 69 | ..</pre><p>We do this translation <em>independent</em> from the <code>minimumPossibleSlotNo</code>
 for a particular ledger. This means that for ledgers where the
 <code>minimumPossibleSlotNo</code> is not zero (e.g., some ledgers might set it to 1),
 the maximum number of blocks (aka filled slots) in an epoch is just 1 (or
 more) less than the other epochs.</p></div></div><div class="top"><p class="src"><a id="v:summaryBounds" class="def">summaryBounds</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; (<a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a>, <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a>) <a href="src/Ouroboros.Consensus.HardFork.History.html#summaryBounds" class="link">Source</a> <a href="#v:summaryBounds" class="selflink">#</a></p><div class="doc"><p>Outer bounds of the summary</p></div></div><div class="top"><p class="src"><a id="v:summaryInit" class="def">summaryInit</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs), <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a>) <a href="src/Ouroboros.Consensus.HardFork.History.html#summaryInit" class="link">Source</a> <a href="#v:summaryInit" class="selflink">#</a></p><div class="doc"><p>Analogue of <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-List.html#v:init" title="Data.List">init</a></code> for <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a></code> (i.e., split off the final era)</p><p>This is primarily useful for tests.</p></div></div><div class="top"><p class="src"><a id="v:summaryWithExactly" class="def">summaryWithExactly</a> &#8759; <a href="Ouroboros-Consensus-Util-Counting.html#t:Exactly" title="Ouroboros.Consensus.Util.Counting">Exactly</a> (x ': xs) <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> (x ': xs) <a href="src/Ouroboros.Consensus.HardFork.History.html#summaryWithExactly" class="link">Source</a> <a href="#v:summaryWithExactly" class="selflink">#</a></p><div class="doc"><p>Construct <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a></code> with an exact number of <code><a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a></code></p><p>Primarily useful for tests.</p></div></div><a href="#g:6" id="g:6"><h1>Queries</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PastHorizonException" class="def">PastHorizonException</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#PastHorizonException" class="link">Source</a> <a href="#t:PastHorizonException" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PastHorizon" class="def">PastHorizon</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) Condition</td><td class="doc"><p>We tried to convert something that is past the horizon</p><p>That is, we tried to convert something that is past the point in time
 beyond which we lack information due to uncertainty about the next
 hard fork.</p><p>We record both the hard fork summary and the thing that we are looking
 for. Although both of these are internal types that can strictly speaking
 leak out of the API through this exception, they are provided here
 merely for debugging: if this exception is ever raised, it indicates
 a bug somewhere.</p></td></tr></table></div><div class="subs instances"><details id="i:PastHorizonException" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PastHorizonException:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-636" class="link">Source</a> <a href="#t:PastHorizonException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PastHorizonException:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PastHorizonException:Exception:2"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:Exception" title="Ouroboros.Consensus.Util.IOLike">Exception</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-637" class="link">Source</a> <a href="#t:PastHorizonException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PastHorizonException:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> &#8594; <a href="Ouroboros-Consensus-Util-IOLike.html#t:SomeException" title="Ouroboros.Consensus.Util.IOLike">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:SomeException" title="Ouroboros.Consensus.Util.IOLike">SomeException</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PastHorizonException:MonadError:3"></span> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:MonadError" title="Cardano.Prelude.Base">MonadError</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-651" class="link">Source</a> <a href="#t:PastHorizonException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PastHorizonException:MonadError:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwError">throwError</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:throwError" class="selflink">#</a></p><p class="src"><a href="#v:catchError">catchError</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; (<a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:catchError" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Query" class="def">Query</a> (xs &#8759; [&#9733;]) a <a href="src/Ouroboros.Consensus.HardFork.History.html#Query" class="link">Source</a> <a href="#t:Query" class="selflink">#</a></p><div class="subs instances"><details id="i:Query" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Query:MonadError:1"></span> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:MonadError" title="Cardano.Prelude.Base">MonadError</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-651" class="link">Source</a> <a href="#t:Query" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Query:MonadError:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwError">throwError</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:throwError" class="selflink">#</a></p><p class="src"><a href="#v:catchError">catchError</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; (<a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:catchError" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Query:Monad:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-649" class="link">Source</a> <a href="#t:Query" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Query:Monad:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; (a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:return" class="selflink">#</a></p><p class="src"><a href="#v:fail">fail</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Query:Functor:3"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-647" class="link">Source</a> <a href="#t:Query" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Query:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> &#8759; (a &#8594; b) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Query:Applicative:4"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-648" class="link">Source</a> <a href="#t:Query" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Query:Applicative:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (a &#8594; b) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> &#8759; (a &#8594; b &#8594; c) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs b &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Query:MonadReader:5"></span> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:MonadReader" title="Cardano.Prelude.Base">MonadReader</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) (<a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-650" class="link">Source</a> <a href="#t:Query" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Query:MonadReader:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> &#8759; (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> &#8759; (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; a) &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runQuery" class="def">runQuery</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a> a <a href="src/Ouroboros.Consensus.HardFork.History.html#runQuery" class="link">Source</a> <a href="#v:runQuery" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runQueryThrow" class="def">runQueryThrow</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> m &#8658; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; m a <a href="src/Ouroboros.Consensus.HardFork.History.html#runQueryThrow" class="link">Source</a> <a href="#v:runQueryThrow" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runQueryPure" class="def">runQueryPure</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; a <a href="src/Ouroboros.Consensus.HardFork.History.html#runQueryPure" class="link">Source</a> <a href="#v:runQueryPure" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:wallclockToSlot" class="def">wallclockToSlot</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>) <a href="src/Ouroboros.Consensus.HardFork.History.html#wallclockToSlot" class="link">Source</a> <a href="#v:wallclockToSlot" class="selflink">#</a></p><div class="doc"><p>Translate <code><a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a></code> to <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code></p><p>Additionally returns the time spent in this slot.</p></div></div><div class="top"><p class="src"><a id="v:slotToWallclock" class="def">slotToWallclock</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a>, <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock">SlotLength</a>) <a href="src/Ouroboros.Consensus.HardFork.History.html#slotToWallclock" class="link">Source</a> <a href="#v:slotToWallclock" class="selflink">#</a></p><div class="doc"><p>Translate <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code> to the <code><a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a></code> at the start of that slot</p><p>Additionally returns the length of the slot.</p></div></div><div class="top"><p class="src"><a id="v:slotToEpoch" class="def">slotToEpoch</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a>, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) <a href="src/Ouroboros.Consensus.HardFork.History.html#slotToEpoch" class="link">Source</a> <a href="#v:slotToEpoch" class="selflink">#</a></p><div class="doc"><p>Translate <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code> to its corresponding <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></code></p><p>Additionally returns the relative slot within this epoch</p></div></div><div class="top"><p class="src"><a id="v:epochToSlot" class="def">epochToSlot</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochSize" title="Cardano.Slotting.Slot">EpochSize</a>) <a href="src/Ouroboros.Consensus.HardFork.History.html#epochToSlot" class="link">Source</a> <a href="#v:epochToSlot" class="selflink">#</a></p><div class="doc"><p>Translate <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></code> to the <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code> of the first slot in that epoch</p><p>Additionally returns the size of the epoch.</p></div></div><a href="#g:7" id="g:7"><h1>Support for <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-EpochInfo-API.html#t:EpochInfo" title="Cardano.Slotting.EpochInfo.API">EpochInfo</a></code></h1></a><div class="top"><p class="src"><a id="v:summaryToEpochInfo" class="def">summaryToEpochInfo</a> &#8759; &#8704; m xs. (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m, <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m)) &#8658; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) &#8594; m (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-EpochInfo-API.html#t:EpochInfo" title="Cardano.Slotting.EpochInfo.API">EpochInfo</a> (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m)) <a href="src/Ouroboros.Consensus.HardFork.History.html#summaryToEpochInfo" class="link">Source</a> <a href="#v:summaryToEpochInfo" class="selflink">#</a></p><div class="doc"><p>Construct <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-EpochInfo-API.html#t:EpochInfo" title="Cardano.Slotting.EpochInfo.API">EpochInfo</a></code> from a function that returns the hard fork summary</p><p>When a particular request fails with a <code><a href="Ouroboros-Consensus-HardFork-History.html#v:PastHorizon" title="Ouroboros.Consensus.HardFork.History">PastHorizon</a></code> error, we ask for an
 updated summary, in the hope that the ledger state has advanced. If the query
 <em>still</em> fails with that updated summary, the error is thrown as an exception.</p></div></div><div class="top"><p class="src"><a id="v:snapshotEpochInfo" class="def">snapshotEpochInfo</a> &#8759; &#8704; xs. <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-EpochInfo-API.html#t:EpochInfo" title="Cardano.Slotting.EpochInfo.API">EpochInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#snapshotEpochInfo" class="link">Source</a> <a href="#v:snapshotEpochInfo" class="selflink">#</a></p><div class="doc"><p>Construct an <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-EpochInfo-API.html#t:EpochInfo" title="Cardano.Slotting.EpochInfo.API">EpochInfo</a></code> for a <em>snapshot</em> of the ledger state</p><p>When a particular request fails with a <code><a href="Ouroboros-Consensus-HardFork-History.html#v:PastHorizon" title="Ouroboros.Consensus.HardFork.History">PastHorizon</a></code> error, we throw the
 error as a <em>pure</em> exception. Such an exception would indicate a bug.</p></div></div><a href="#g:8" id="g:8"><h1>Caching</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RunWithCachedSummary" class="def">RunWithCachedSummary</a> xs m <a href="src/Ouroboros.Consensus.HardFork.History.html#RunWithCachedSummary" class="link">Source</a> <a href="#t:RunWithCachedSummary" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RunWithCachedSummary" class="def">RunWithCachedSummary</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:cachedRunQuery" class="def">cachedRunQuery</a> &#8759; &#8704; a. <a href="Ouroboros-Consensus-HardFork-History.html#t:Query" title="Ouroboros.Consensus.HardFork.History">Query</a> xs a &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:runWithCachedSummary" class="def">runWithCachedSummary</a> &#8759; &#8704; m xs. (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m, <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m)) &#8658; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs) &#8594; m (<a href="Ouroboros-Consensus-HardFork-History.html#t:RunWithCachedSummary" title="Ouroboros.Consensus.HardFork.History">RunWithCachedSummary</a> xs m) <a href="src/Ouroboros.Consensus.HardFork.History.html#runWithCachedSummary" class="link">Source</a> <a href="#v:runWithCachedSummary" class="selflink">#</a></p><div class="doc"><p>Cache the <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a></code></p><p>Whenever the action requires the <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a></code>, we use the cached value rather
 than computing it every time. If the action throws a <code><a href="Ouroboros-Consensus-HardFork-History.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History">PastHorizonException</a></code>
 with the cached summary, we construct a new summary at that point and try
 again. We do not catch the exception the second time: if the action still
 throws an exception with the updated summary, it indicates a bug in the
 caller (trying to look ahead too far).</p></div></div><a href="#g:9" id="g:9"><h1>Exported only for the benefit of tests</h1></a><a href="#g:10" id="g:10"><h2>Bounds</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Bound" class="def">Bound</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#Bound" class="link">Source</a> <a href="#t:Bound" class="selflink">#</a></p><div class="doc"><p>Detailed information about the time bounds of an era</p></div><div class="subs instances"><details id="i:Bound" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Bound:Eq:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-285" class="link">Source</a> <a href="#t:Bound" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Bound:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Bound:Show:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-285" class="link">Source</a> <a href="#t:Bound" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Bound:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Bound:ShiftTime:3"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-399" class="link">Source</a> <a href="#t:Bound" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Bound:ShiftTime:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:boundEpoch" class="def">boundEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#boundEpoch" class="link">Source</a> <a href="#v:boundEpoch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boundSlot" class="def">boundSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#boundSlot" class="link">Source</a> <a href="#v:boundSlot" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boundTime" class="def">boundTime</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#boundTime" class="link">Source</a> <a href="#v:boundTime" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:initBound" class="def">initBound</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SystemStart" title="Ouroboros.Consensus.BlockchainTime.WallClock">SystemStart</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#initBound" class="link">Source</a> <a href="#v:initBound" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkUpperBound" class="def">mkUpperBound</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#mkUpperBound" class="link">Source</a> <a href="#v:mkUpperBound" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></td><td class="doc"><p>Lower bound</p></td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></td><td class="doc"><p>Upper bound</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Compute upper bound given just the epoch number and era parameters</p></div></div><div class="top"><p class="src"><a id="v:maxMaybeEpoch" class="def">maxMaybeEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:SafeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">SafeBeforeEpoch</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#maxMaybeEpoch" class="link">Source</a> <a href="#v:maxMaybeEpoch" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h2>Summary</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EraSummary" class="def">EraSummary</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#EraSummary" class="link">Source</a> <a href="#t:EraSummary" class="selflink">#</a></p><div class="doc"><p>Information about a specific era</p><p>The <code><a href="Ouroboros-Consensus-HardFork-History.html#v:eraEnd" title="Ouroboros.Consensus.HardFork.History">eraEnd</a></code> of the final era in the summary will be determined by the
 safe zone considerations discussed above.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EraSummary" class="def">EraSummary</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:eraStart" class="def">eraStart</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></dfn><div class="doc"><p>Inclusive lower bound</p></div></li><li><dfn class="src"><a id="v:eraEnd" class="def">eraEnd</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></dfn><div class="doc"><p>Exclusive upper bound</p></div></li><li><dfn class="src"><a id="v:eraParams" class="def">eraParams</a> &#8759; !<a href="Ouroboros-Consensus-HardFork-History.html#t:EraParams" title="Ouroboros.Consensus.HardFork.History">EraParams</a></dfn><div class="doc"><p>Active parameters</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:EraSummary" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EraSummary:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-327" class="link">Source</a> <a href="#t:EraSummary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EraSummary:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EraSummary:ShiftTime:2"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-392" class="link">Source</a> <a href="#t:EraSummary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EraSummary:ShiftTime:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:12" id="g:12"><h2>Summary translations</h2></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ShiftTime" class="def">ShiftTime</a> a <span class="keyword">where</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#ShiftTime" class="link">Source</a> <a href="#t:ShiftTime" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:shiftTime" class="def">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; a &#8594; a <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div><div class="subs instances"><details id="i:ShiftTime" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShiftTime:ShiftTime:1"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-406" class="link">Source</a> <a href="#t:ShiftTime" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShiftTime:ShiftTime:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; <a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a> &#8594; <a href="Ouroboros-Consensus-Util-IOLike.html#t:UTCTime" title="Ouroboros.Consensus.Util.IOLike">UTCTime</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShiftTime:ShiftTime:2"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SystemStart" title="Ouroboros.Consensus.BlockchainTime.WallClock">SystemStart</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-381" class="link">Source</a> <a href="#t:ShiftTime" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShiftTime:ShiftTime:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SystemStart" title="Ouroboros.Consensus.BlockchainTime.WallClock">SystemStart</a> &#8594; <a href="Ouroboros-Consensus-BlockchainTime-WallClock.html#t:SystemStart" title="Ouroboros.Consensus.BlockchainTime.WallClock">SystemStart</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShiftTime:ShiftTime:3"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-392" class="link">Source</a> <a href="#t:ShiftTime" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShiftTime:ShiftTime:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History">EraSummary</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShiftTime:ShiftTime:4"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-399" class="link">Source</a> <a href="#t:ShiftTime" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShiftTime:ShiftTime:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Bound" title="Ouroboros.Consensus.HardFork.History">Bound</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShiftTime:ShiftTime:5"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> a &#8658; <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> [a]</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-384" class="link">Source</a> <a href="#t:ShiftTime" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShiftTime:ShiftTime:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; [a] &#8594; [a] <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShiftTime:ShiftTime:6"></span> <a href="Ouroboros-Consensus-HardFork-History.html#t:ShiftTime" title="Ouroboros.Consensus.HardFork.History">ShiftTime</a> (<a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.html#line-387" class="link">Source</a> <a href="#t:ShiftTime" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShiftTime:ShiftTime:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History.html">Ouroboros.Consensus.HardFork.History</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:shiftTime">shiftTime</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs <a href="src/Ouroboros.Consensus.HardFork.History.html#shiftTime" class="link">Source</a> <a href="#v:shiftTime" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:13" id="g:13"><h2>Invariants</h2></a><div class="top"><p class="src"><a id="v:invariantSummary" class="def">invariantSummary</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a> xs &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Except" title="Cardano.Prelude.Base">Except</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> () <a href="src/Ouroboros.Consensus.HardFork.History.html#invariantSummary" class="link">Source</a> <a href="#v:invariantSummary" class="selflink">#</a></p><div class="doc"><p>Check <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Summary" title="Ouroboros.Consensus.HardFork.History">Summary</a></code> invariants</p></div></div><div class="top"><p class="src"><a id="v:invariantShape" class="def">invariantShape</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a> xs &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Except" title="Cardano.Prelude.Base">Except</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> () <a href="src/Ouroboros.Consensus.HardFork.History.html#invariantShape" class="link">Source</a> <a href="#v:invariantShape" class="selflink">#</a></p><div class="doc"><p>Check <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a></code> invariants</p><p>The only part of the <code><a href="Ouroboros-Consensus-HardFork-History.html#t:Shape" title="Ouroboros.Consensus.HardFork.History">Shape</a></code> that must make sense is the <code><a href="Ouroboros-Consensus-HardFork-History.html#v:safeBeforeEpoch" title="Ouroboros.Consensus.HardFork.History">safeBeforeEpoch</a></code>
 values (they must be strictly increasing).</p><p>NOTE: We assume eras cannot be empty. This will be satisfied by any ledger
 we are interested in since transitions must be voted on (safe zones will
 be non-empty).</p></div></div><a href="#g:14" id="g:14"><h2>Auxiliary</h2></a><div class="top"><p class="src"><a id="v:addEpochs" class="def">addEpochs</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#addEpochs" class="link">Source</a> <a href="#v:addEpochs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addSlots" class="def">addSlots</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#addSlots" class="link">Source</a> <a href="#v:addSlots" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:countEpochs" class="def">countEpochs</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#countEpochs" class="link">Source</a> <a href="#v:countEpochs" class="selflink">#</a></p><div class="doc"><p><code>countEpochs to fr</code> counts the epochs from <code>fr</code> to <code>to</code> (<code>to &gt;= fr</code>)</p></div></div><div class="top"><p class="src"><a id="v:countSlots" class="def">countSlots</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/Ouroboros.Consensus.HardFork.History.html#countSlots" class="link">Source</a> <a href="#v:countSlots" class="selflink">#</a></p><div class="doc"><p><code>countSlots to fr</code> counts the slots from <code>fr</code> to <code>to</code> (<code>to &gt;= fr</code>)</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>